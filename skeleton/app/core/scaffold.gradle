// ############################################################################
// Scaffolding project structure
// ############################################################################
scaffold << {
	// source packages
	def base = project.group + "." + rootProject.name + "." + project.name
	def model = base + ".model"
	def domain = model + ".domain"
	def dao = model + ".dao"

	def srcFolder = sourceSets.main.java.srcDirs[0].toString() + "/"
	def resourcesFolder = sourceSets.main.resources.srcDirs[0].toString() + "/"

	// .domain ############################################################
	new File(srcFolder + domain.replaceAll("\\.", "/")).mkdirs()
	new File(srcFolder + domain.replaceAll("\\.", "/") + "/User.java").text = file(ext.templateBasePath + "/model/domain/User.java").text.replaceAll("@package@", domain)
	new File(srcFolder + domain.replaceAll("\\.", "/") + "/Auditable.java").text = file(ext.templateBasePath + "/model/domain/Auditable.java").text.replaceAll("@package@", domain)

	// .dao ###############################################################
	new File(srcFolder + dao.replaceAll("\\.", "/")).mkdirs()
	new File(srcFolder + dao.replaceAll("\\.", "/") + "/BaseDao.java").text = file(ext.templateBasePath + "/model/dao/BaseDao.java").text.replaceAll("@package@", dao).replaceAll("@base@", base)
	new File(srcFolder + dao.replaceAll("\\.", "/") + "/UserDao.java").text = file(ext.templateBasePath + "/model/dao/UserDao.java").text.replaceAll("@package@", dao).replaceAll("@base@", base)
		
	// .resources #########################################################
	//new File(resourcesFolder + "/domain.mdsd").text = file(ext.templateBasePath + "domain.mdsd").text.replaceAll("@package@", model)
	//new File(resourcesFolder + "/domain.properties").text = file(ext.templateBasePath + "domain.properties").text.replaceAll("@base@", base)
	
}